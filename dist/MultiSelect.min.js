const Yn = "5";
typeof window < "u" && (window.__svelte || (window.__svelte = { v: /* @__PURE__ */ new Set() })).v.add(Yn);
const Ve = 1, Be = 2, vn = 4, Kn = 8, Wn = 16, Gn = 1, Jn = 2, Zn = 4, jn = 8, zn = 16, Xn = 1, Qn = 2, N = Symbol(), $n = !1;
var be = Array.isArray, He = Array.from, et = Object.defineProperty, Q = Object.getOwnPropertyDescriptor, dn = Object.prototype, nt = Array.prototype, hn = Object.getPrototypeOf;
function tt(e) {
  for (var n = 0; n < e.length; n++)
    e[n]();
}
const q = 2, pn = 4, ue = 8, mn = 16, W = 32, Se = 64, J = 128, de = 256, P = 512, K = 1024, ie = 2048, L = 4096, fe = 8192, rt = 16384, Ue = 32768, lt = 65536, ut = 1 << 18, wn = 1 << 19, Ce = Symbol("$state");
function En(e) {
  return e === this.v;
}
function it(e, n) {
  return e != e ? n == n : e !== n || e !== null && typeof e == "object" || typeof e == "function";
}
function Ye(e) {
  return !it(e, this.v);
}
function ft(e) {
  throw new Error("effect_in_teardown");
}
function at() {
  throw new Error("effect_in_unowned_derived");
}
function ot(e) {
  throw new Error("effect_orphan");
}
function st() {
  throw new Error("effect_update_depth_exceeded");
}
function ct(e) {
  throw new Error("props_invalid_value");
}
function _t() {
  throw new Error("state_descriptors_fixed");
}
function vt() {
  throw new Error("state_prototype_fixed");
}
function dt() {
  throw new Error("state_unsafe_local_read");
}
function ht() {
  throw new Error("state_unsafe_mutation");
}
function D(e) {
  return {
    f: 0,
    // TODO ideally we could skip this altogether, but it causes type errors
    v: e,
    reactions: null,
    equals: En,
    version: 0
  };
}
function Ae(e) {
  return /* @__PURE__ */ pt(D(e));
}
// @__NO_SIDE_EFFECTS__
function gn(e) {
  var t;
  const n = D(e);
  return n.equals = Ye, x !== null && x.l !== null && ((t = x.l).s ?? (t.s = [])).push(n), n;
}
// @__NO_SIDE_EFFECTS__
function pt(e) {
  return b !== null && b.f & q && (M === null ? Tt([e]) : M.push(e)), e;
}
function C(e, n) {
  return b !== null && ge() && b.f & q && // If the source was created locally within the current derived, then
  // we allow the mutation.
  (M === null || !M.includes(e)) && ht(), e.equals(n) || (e.v = n, e.version = Dn(), yn(e, K), ge() && w !== null && w.f & P && !(w.f & W) && (I !== null && I.includes(e) ? (F(w, K), Te(w)) : Y === null ? xt([e]) : Y.push(e))), n;
}
function yn(e, n) {
  var t = e.reactions;
  if (t !== null)
    for (var r = ge(), l = t.length, u = 0; u < l; u++) {
      var i = t[u], c = i.f;
      c & K || !r && i === w || (F(i, n), c & (P | J) && (c & q ? yn(
        /** @type {Derived} */
        i,
        ie
      ) : Te(
        /** @type {Effect} */
        i
      )));
    }
}
function mt(e) {
  w === null && b === null && ot(), b !== null && b.f & J && at(), We && ft();
}
function wt(e, n) {
  var t = n.last;
  t === null ? n.last = n.first = e : (t.next = e, e.prev = t, n.last = e);
}
function ae(e, n, t, r = !0) {
  var l = (e & Se) !== 0, u = w, i = {
    ctx: x,
    deps: null,
    nodes_start: null,
    nodes_end: null,
    f: e | K,
    first: null,
    fn: n,
    last: null,
    next: null,
    parent: l ? null : u,
    prev: null,
    teardown: null,
    transitions: null,
    version: 0
  };
  if (t) {
    var c = $;
    try {
      Qe(!0), ke(i), i.f |= rt;
    } catch (a) {
      throw ee(i), a;
    } finally {
      Qe(c);
    }
  } else n !== null && Te(i);
  var s = t && i.deps === null && i.first === null && i.nodes_start === null && i.teardown === null && (i.f & wn) === 0;
  if (!s && !l && r && (u !== null && wt(i, u), b !== null && b.f & q)) {
    var f = (
      /** @type {Derived} */
      b
    );
    (f.children ?? (f.children = [])).push(i);
  }
  return i;
}
function Et(e) {
  mt();
  var n = w !== null && (w.f & ue) !== 0 && // TODO do we actually need this? removing them changes nothing
  x !== null && !x.m;
  if (n) {
    var t = (
      /** @type {ComponentContext} */
      x
    );
    (t.e ?? (t.e = [])).push({
      fn: e,
      effect: w,
      reaction: b
    });
  } else {
    var r = bn(e);
    return r;
  }
}
function gt(e) {
  const n = ae(Se, e, !0);
  return () => {
    ee(n);
  };
}
function bn(e) {
  return ae(pn, e, !1);
}
function Sn(e) {
  return ae(ue, e, !0);
}
function Z(e) {
  return Sn(e);
}
function kn(e, n = 0) {
  return ae(ue | mn | n, e, !0);
}
function re(e, n = !0) {
  return ae(ue | W, e, !0, n);
}
function Tn(e) {
  var n = e.teardown;
  if (n !== null) {
    const t = We, r = b;
    $e(!0), we(null);
    try {
      n.call(null);
    } finally {
      $e(t), we(r);
    }
  }
}
function ee(e, n = !0) {
  var t = !1;
  if ((n || e.f & ut) && e.nodes_start !== null) {
    for (var r = e.nodes_start, l = e.nodes_end; r !== null; ) {
      var u = r === l ? null : (
        /** @type {TemplateNode} */
        /* @__PURE__ */ xe(r)
      );
      r.remove(), r = u;
    }
    t = !0;
  }
  Rn(e, n && !t), le(e, 0), F(e, fe);
  var i = e.transitions;
  if (i !== null)
    for (const s of i)
      s.stop();
  Tn(e);
  var c = e.parent;
  c !== null && c.first !== null && xn(e), e.next = e.prev = e.teardown = e.ctx = e.deps = e.parent = e.fn = e.nodes_start = e.nodes_end = null;
}
function xn(e) {
  var n = e.parent, t = e.prev, r = e.next;
  t !== null && (t.next = r), r !== null && (r.prev = t), n !== null && (n.first === e && (n.first = r), n.last === e && (n.last = t));
}
function Pe(e, n) {
  var t = [];
  Ke(e, t, !0), Cn(t, () => {
    ee(e), n && n();
  });
}
function Cn(e, n) {
  var t = e.length;
  if (t > 0) {
    var r = () => --t || n();
    for (var l of e)
      l.out(r);
  } else
    n();
}
function Ke(e, n, t) {
  if (!(e.f & L)) {
    if (e.f ^= L, e.transitions !== null)
      for (const i of e.transitions)
        (i.is_global || t) && n.push(i);
    for (var r = e.first; r !== null; ) {
      var l = r.next, u = (r.f & Ue) !== 0 || (r.f & W) !== 0;
      Ke(r, n, u ? t : !1), r = l;
    }
  }
}
function he(e) {
  An(e, !0);
}
function An(e, n) {
  if (e.f & L) {
    e.f ^= L, oe(e) && ke(e);
    for (var t = e.first; t !== null; ) {
      var r = t.next, l = (t.f & Ue) !== 0 || (t.f & W) !== 0;
      An(t, l ? n : !1), t = r;
    }
    if (e.transitions !== null)
      for (const u of e.transitions)
        (u.is_global || n) && u.in();
  }
}
let Re = !1, Me = [];
function yt() {
  Re = !1;
  const e = Me.slice();
  Me = [], tt(e);
}
function bt(e) {
  Re || (Re = !0, queueMicrotask(yt)), Me.push(e);
}
// @__NO_SIDE_EFFECTS__
function pe(e) {
  let n = q | K;
  w === null ? n |= J : w.f |= wn;
  const t = {
    children: null,
    deps: null,
    equals: En,
    f: n,
    fn: e,
    reactions: null,
    v: (
      /** @type {V} */
      null
    ),
    version: 0,
    parent: w
  };
  if (b !== null && b.f & q) {
    var r = (
      /** @type {Derived} */
      b
    );
    (r.children ?? (r.children = [])).push(t);
  }
  return t;
}
// @__NO_SIDE_EFFECTS__
function St(e) {
  const n = /* @__PURE__ */ pe(e);
  return n.equals = Ye, n;
}
function In(e) {
  var n = e.children;
  if (n !== null) {
    e.children = null;
    for (var t = 0; t < n.length; t += 1) {
      var r = n[t];
      r.f & q ? kt(
        /** @type {Derived} */
        r
      ) : ee(
        /** @type {Effect} */
        r
      );
    }
  }
}
function Nn(e) {
  var n, t = w;
  Ee(e.parent);
  try {
    In(e), n = Pn(e);
  } finally {
    Ee(t);
  }
  var r = (X || e.f & J) && e.deps !== null ? ie : P;
  F(e, r), e.equals(n) || (e.v = n, e.version = Dn());
}
function kt(e) {
  In(e), le(e, 0), F(e, fe), e.children = e.deps = e.reactions = // @ts-expect-error `signal.fn` cannot be `null` while the signal is alive
  e.fn = null;
}
let me = !1, $ = !1, We = !1;
function Qe(e) {
  $ = e;
}
function $e(e) {
  We = e;
}
let Le = [], te = 0;
let b = null;
function we(e) {
  b = e;
}
let w = null;
function Ee(e) {
  w = e;
}
let M = null;
function Tt(e) {
  M = e;
}
let I = null, O = 0, Y = null;
function xt(e) {
  Y = e;
}
let On = 0, X = !1, x = null;
function Dn() {
  return ++On;
}
function ge() {
  return x !== null && x.l === null;
}
function oe(e) {
  var i, c;
  var n = e.f;
  if (n & K)
    return !0;
  if (n & ie) {
    var t = e.deps, r = (n & J) !== 0;
    if (t !== null) {
      var l;
      if (n & de) {
        for (l = 0; l < t.length; l++)
          ((i = t[l]).reactions ?? (i.reactions = [])).push(e);
        e.f ^= de;
      }
      for (l = 0; l < t.length; l++) {
        var u = t[l];
        if (oe(
          /** @type {Derived} */
          u
        ) && Nn(
          /** @type {Derived} */
          u
        ), r && w !== null && !X && !((c = u == null ? void 0 : u.reactions) != null && c.includes(e)) && (u.reactions ?? (u.reactions = [])).push(e), u.version > e.version)
          return !0;
      }
    }
    r || F(e, P);
  }
  return !1;
}
function Ct(e, n, t) {
  throw e;
}
function Pn(e) {
  var a;
  var n = I, t = O, r = Y, l = b, u = X, i = M;
  I = /** @type {null | Value[]} */
  null, O = 0, Y = null, b = e.f & (W | Se) ? null : e, X = !$ && (e.f & J) !== 0, M = null;
  try {
    var c = (
      /** @type {Function} */
      (0, e.fn)()
    ), s = e.deps;
    if (I !== null) {
      var f;
      if (le(e, O), s !== null && O > 0)
        for (s.length = O + I.length, f = 0; f < I.length; f++)
          s[O + f] = I[f];
      else
        e.deps = s = I;
      if (!X)
        for (f = O; f < s.length; f++)
          ((a = s[f]).reactions ?? (a.reactions = [])).push(e);
    } else s !== null && O < s.length && (le(e, O), s.length = O);
    return c;
  } finally {
    I = n, O = t, Y = r, b = l, X = u, M = i;
  }
}
function At(e, n) {
  let t = n.reactions;
  if (t !== null) {
    var r = t.indexOf(e);
    if (r !== -1) {
      var l = t.length - 1;
      l === 0 ? t = n.reactions = null : (t[r] = t[l], t.pop());
    }
  }
  t === null && n.f & q && // Destroying a child effect while updating a parent effect can cause a dependency to appear
  // to be unused, when in fact it is used by the currently-updating parent. Checking `new_deps`
  // allows us to skip the expensive work of disconnecting and immediately reconnecting it
  (I === null || !I.includes(n)) && (F(n, ie), n.f & (J | de) || (n.f ^= de), le(
    /** @type {Derived} **/
    n,
    0
  ));
}
function le(e, n) {
  var t = e.deps;
  if (t !== null)
    for (var r = n; r < t.length; r++)
      At(e, t[r]);
}
function Rn(e, n = !1) {
  var t = e.first;
  for (e.first = e.last = null; t !== null; ) {
    var r = t.next;
    ee(t, n), t = r;
  }
}
function ke(e) {
  var n = e.f;
  if (!(n & fe)) {
    F(e, P);
    var t = w, r = x;
    w = e, x = e.ctx;
    try {
      n & mn || Rn(e), Tn(e);
      var l = Pn(e);
      e.teardown = typeof l == "function" ? l : null, e.version = On;
    } catch (u) {
      Ct(
        /** @type {Error} */
        u
      );
    } finally {
      w = t, x = r;
    }
  }
}
function It() {
  te > 1e3 && (te = 0, st()), te++;
}
function Nt(e) {
  var n = e.length;
  if (n !== 0) {
    It();
    var t = $;
    $ = !0;
    try {
      for (var r = 0; r < n; r++) {
        var l = e[r];
        l.f & P || (l.f ^= P);
        var u = [];
        Mn(l, u), Ot(u);
      }
    } finally {
      $ = t;
    }
  }
}
function Ot(e) {
  var n = e.length;
  if (n !== 0)
    for (var t = 0; t < n; t++) {
      var r = e[t];
      !(r.f & (fe | L)) && oe(r) && (ke(r), r.deps === null && r.first === null && r.nodes_start === null && (r.teardown === null ? xn(r) : r.fn = null));
    }
}
function Dt() {
  if (me = !1, te > 1001)
    return;
  const e = Le;
  Le = [], Nt(e), me || (te = 0);
}
function Te(e) {
  me || (me = !0, queueMicrotask(Dt));
  for (var n = e; n.parent !== null; ) {
    n = n.parent;
    var t = n.f;
    if (t & (Se | W)) {
      if (!(t & P)) return;
      n.f ^= P;
    }
  }
  Le.push(n);
}
function Mn(e, n) {
  var t = e.first, r = [];
  e: for (; t !== null; ) {
    var l = t.f, u = (l & W) !== 0, i = u && (l & P) !== 0;
    if (!i && !(l & L))
      if (l & ue) {
        u ? t.f ^= P : oe(t) && ke(t);
        var c = t.first;
        if (c !== null) {
          t = c;
          continue;
        }
      } else l & pn && r.push(t);
    var s = t.next;
    if (s === null) {
      let o = t.parent;
      for (; o !== null; ) {
        if (e === o)
          break e;
        var f = o.next;
        if (f !== null) {
          t = f;
          continue e;
        }
        o = o.parent;
      }
    }
    t = s;
  }
  for (var a = 0; a < r.length; a++)
    c = r[a], n.push(c), Mn(c, n);
}
function g(e) {
  var n = e.f;
  if (n & fe)
    return e.v;
  if (b !== null) {
    M !== null && M.includes(e) && dt();
    var t = b.deps;
    I === null && t !== null && t[O] === e ? O++ : I === null ? I = [e] : I.push(e), Y !== null && w !== null && w.f & P && !(w.f & W) && Y.includes(e) && (F(w, K), Te(w));
  }
  if (n & q) {
    var r = (
      /** @type {Derived} */
      e
    );
    oe(r) && Nn(r);
  }
  return e.v;
}
function Pt(e) {
  const n = b;
  try {
    return b = null, e();
  } finally {
    b = n;
  }
}
const Rt = ~(K | ie | P);
function F(e, n) {
  e.f = e.f & Rt | n;
}
function Ln(e, n = !1, t) {
  x = {
    p: x,
    c: null,
    e: null,
    m: !1,
    s: e,
    x: null,
    l: null
  }, n || (x.l = {
    s: null,
    u: null,
    r1: [],
    r2: D(!1)
  });
}
function qn(e) {
  const n = x;
  if (n !== null) {
    const i = n.e;
    if (i !== null) {
      var t = w, r = b;
      n.e = null;
      try {
        for (var l = 0; l < i.length; l++) {
          var u = i[l];
          Ee(u.effect), we(u.reaction), bn(u.fn);
        }
      } finally {
        Ee(t), we(r);
      }
    }
    x = n.p, n.m = !0;
  }
  return (
    /** @type {T} */
    {}
  );
}
function U(e, n = null, t) {
  if (typeof e != "object" || e === null || Ce in e)
    return e;
  const r = hn(e);
  if (r !== dn && r !== nt)
    return e;
  var l = /* @__PURE__ */ new Map(), u = be(e), i = D(0);
  u && l.set("length", D(
    /** @type {any[]} */
    e.length
  ));
  var c;
  return new Proxy(
    /** @type {any} */
    e,
    {
      defineProperty(s, f, a) {
        (!("value" in a) || a.configurable === !1 || a.enumerable === !1 || a.writable === !1) && _t();
        var o = l.get(f);
        return o === void 0 ? (o = D(a.value), l.set(f, o)) : C(o, U(a.value, c)), !0;
      },
      deleteProperty(s, f) {
        var a = l.get(f);
        return a === void 0 ? f in s && l.set(f, D(N)) : (C(a, N), en(i)), !0;
      },
      get(s, f, a) {
        var h;
        if (f === Ce)
          return e;
        var o = l.get(f), v = f in s;
        if (o === void 0 && (!v || (h = Q(s, f)) != null && h.writable) && (o = D(U(v ? s[f] : N, c)), l.set(f, o)), o !== void 0) {
          var _ = g(o);
          return _ === N ? void 0 : _;
        }
        return Reflect.get(s, f, a);
      },
      getOwnPropertyDescriptor(s, f) {
        var a = Reflect.getOwnPropertyDescriptor(s, f);
        if (a && "value" in a) {
          var o = l.get(f);
          o && (a.value = g(o));
        } else if (a === void 0) {
          var v = l.get(f), _ = v == null ? void 0 : v.v;
          if (v !== void 0 && _ !== N)
            return {
              enumerable: !0,
              configurable: !0,
              value: _,
              writable: !0
            };
        }
        return a;
      },
      has(s, f) {
        var _;
        if (f === Ce)
          return !0;
        var a = l.get(f), o = a !== void 0 && a.v !== N || Reflect.has(s, f);
        if (a !== void 0 || w !== null && (!o || (_ = Q(s, f)) != null && _.writable)) {
          a === void 0 && (a = D(o ? U(s[f], c) : N), l.set(f, a));
          var v = g(a);
          if (v === N)
            return !1;
        }
        return o;
      },
      set(s, f, a, o) {
        var d;
        var v = l.get(f), _ = f in s;
        if (u && f === "length")
          for (var h = a; h < /** @type {Source<number>} */
          v.v; h += 1) {
            var E = l.get(h + "");
            E !== void 0 ? C(E, N) : h in s && (E = D(N), l.set(h + "", E));
          }
        v === void 0 ? (!_ || (d = Q(s, f)) != null && d.writable) && (v = D(void 0), C(v, U(a, c)), l.set(f, v)) : (_ = v.v !== N, C(v, U(a, c)));
        var S = Reflect.getOwnPropertyDescriptor(s, f);
        if (S != null && S.set && S.set.call(o, a), !_) {
          if (u && typeof f == "string") {
            var k = (
              /** @type {Source<number>} */
              l.get("length")
            ), p = Number(f);
            Number.isInteger(p) && p >= k.v && C(k, p + 1);
          }
          en(i);
        }
        return !0;
      },
      ownKeys(s) {
        g(i);
        var f = Reflect.ownKeys(s).filter((v) => {
          var _ = l.get(v);
          return _ === void 0 || _.v !== N;
        });
        for (var [a, o] of l)
          o.v !== N && !(a in s) && f.push(a);
        return f;
      },
      setPrototypeOf() {
        vt();
      }
    }
  );
}
function en(e, n = 1) {
  C(e, e.v + n);
}
var nn, Fn, Vn;
function Mt() {
  if (nn === void 0) {
    nn = window;
    var e = Element.prototype, n = Node.prototype;
    Fn = Q(n, "firstChild").get, Vn = Q(n, "nextSibling").get, e.__click = void 0, e.__className = "", e.__attributes = null, e.__e = void 0, Text.prototype.__t = void 0;
  }
}
function Ge(e = "") {
  return document.createTextNode(e);
}
// @__NO_SIDE_EFFECTS__
function ye(e) {
  return Fn.call(e);
}
// @__NO_SIDE_EFFECTS__
function xe(e) {
  return Vn.call(e);
}
function G(e) {
  return /* @__PURE__ */ ye(e);
}
function tn(e, n) {
  {
    var t = (
      /** @type {DocumentFragment} */
      /* @__PURE__ */ ye(
        /** @type {Node} */
        e
      )
    );
    return t instanceof Comment && t.data === "" ? /* @__PURE__ */ xe(t) : t;
  }
}
function Ie(e, n = 1, t = !1) {
  let r = e;
  for (; n--; )
    r = /** @type {TemplateNode} */
    /* @__PURE__ */ xe(r);
  return r;
}
function Lt(e) {
  e.textContent = "";
}
let Bn = !1;
const Hn = /* @__PURE__ */ new Set(), qe = /* @__PURE__ */ new Set();
function qt(e) {
  for (var n = 0; n < e.length; n++)
    Hn.add(e[n]);
  for (var t of qe)
    t(e);
}
function ce(e) {
  var S;
  var n = this, t = (
    /** @type {Node} */
    n.ownerDocument
  ), r = e.type, l = ((S = e.composedPath) == null ? void 0 : S.call(e)) || [], u = (
    /** @type {null | Element} */
    l[0] || e.target
  ), i = 0, c = e.__root;
  if (c) {
    var s = l.indexOf(c);
    if (s !== -1 && (n === document || n === /** @type {any} */
    window)) {
      e.__root = n;
      return;
    }
    var f = l.indexOf(n);
    if (f === -1)
      return;
    s <= f && (i = s);
  }
  if (u = /** @type {Element} */
  l[i] || e.target, u !== n) {
    et(e, "currentTarget", {
      configurable: !0,
      get() {
        return u || t;
      }
    });
    try {
      for (var a, o = []; u !== null; ) {
        var v = u.assignedSlot || u.parentNode || /** @type {any} */
        u.host || null;
        try {
          var _ = u["__" + r];
          if (_ !== void 0 && !/** @type {any} */
          u.disabled)
            if (be(_)) {
              var [h, ...E] = _;
              h.apply(u, [e, ...E]);
            } else
              _.call(u, e);
        } catch (k) {
          a ? o.push(k) : a = k;
        }
        if (e.cancelBubble || v === n || v === null)
          break;
        u = v;
      }
      if (a) {
        for (let k of o)
          queueMicrotask(() => {
            throw k;
          });
        throw a;
      }
    } finally {
      e.__root = n, delete e.currentTarget;
    }
  }
}
function Ft(e) {
  var n = document.createElement("template");
  return n.innerHTML = e, n.content;
}
function Fe(e, n) {
  var t = (
    /** @type {Effect} */
    w
  );
  t.nodes_start === null && (t.nodes_start = e, t.nodes_end = n);
}
// @__NO_SIDE_EFFECTS__
function se(e, n) {
  var t = (n & Xn) !== 0, r = (n & Qn) !== 0, l, u = !e.startsWith("<!>");
  return () => {
    l === void 0 && (l = Ft(u ? e : "<!>" + e), t || (l = /** @type {Node} */
    /* @__PURE__ */ ye(l)));
    var i = (
      /** @type {TemplateNode} */
      r ? document.importNode(l, !0) : l.cloneNode(!0)
    );
    if (t) {
      var c = (
        /** @type {TemplateNode} */
        /* @__PURE__ */ ye(i)
      ), s = (
        /** @type {TemplateNode} */
        i.lastChild
      );
      Fe(c, s);
    } else
      Fe(i, i);
    return i;
  };
}
function Vt() {
  var e = document.createDocumentFragment(), n = document.createComment(""), t = Ge();
  return e.append(n, t), Fe(n, t), e;
}
function j(e, n) {
  e !== null && e.before(
    /** @type {Node} */
    n
  );
}
const Bt = ["touchstart", "touchmove"];
function Ht(e) {
  return Bt.includes(e);
}
function Ne(e, n) {
  n !== (e.__t ?? (e.__t = e.nodeValue)) && (e.__t = n, e.nodeValue = n == null ? "" : n + "");
}
function fr(e, n) {
  return Ut(e, n);
}
const z = /* @__PURE__ */ new Map();
function Ut(e, { target: n, anchor: t, props: r = {}, events: l, context: u, intro: i = !0 }) {
  Mt();
  var c = /* @__PURE__ */ new Set(), s = (o) => {
    for (var v = 0; v < o.length; v++) {
      var _ = o[v];
      if (!c.has(_)) {
        c.add(_);
        var h = Ht(_);
        n.addEventListener(_, ce, { passive: h });
        var E = z.get(_);
        E === void 0 ? (document.addEventListener(_, ce, { passive: h }), z.set(_, 1)) : z.set(_, E + 1);
      }
    }
  };
  s(He(Hn)), qe.add(s);
  var f = void 0, a = gt(() => {
    var o = t ?? n.appendChild(Ge());
    return re(() => {
      if (u) {
        Ln({});
        var v = (
          /** @type {ComponentContext} */
          x
        );
        v.c = u;
      }
      l && (r.$$events = l), f = e(o, r) || {}, u && qn();
    }), () => {
      var h;
      for (var v of c) {
        n.removeEventListener(v, ce);
        var _ = (
          /** @type {number} */
          z.get(v)
        );
        --_ === 0 ? (document.removeEventListener(v, ce), z.delete(v)) : z.set(v, _);
      }
      qe.delete(s), rn.delete(f), o !== t && ((h = o.parentNode) == null || h.removeChild(o));
    };
  });
  return rn.set(f, a), f;
}
let rn = /* @__PURE__ */ new WeakMap();
function ln(e, n = !1) {
  return ve(e, /* @__PURE__ */ new Map());
}
function ve(e, n, t, r) {
  if (typeof e == "object" && e !== null) {
    const u = n.get(e);
    if (u !== void 0) return u;
    if (e instanceof Map) return (
      /** @type {Snapshot<T>} */
      new Map(e)
    );
    if (e instanceof Set) return (
      /** @type {Snapshot<T>} */
      new Set(e)
    );
    if (be(e)) {
      const i = (
        /** @type {Snapshot<any>} */
        []
      );
      n.set(e, i);
      for (let c = 0; c < e.length; c += 1)
        i.push(ve(e[c], n));
      return i;
    }
    if (hn(e) === dn) {
      const i = {};
      n.set(e, i);
      for (var l in e)
        i[l] = ve(e[l], n);
      return i;
    }
    if (e instanceof Date)
      return (
        /** @type {Snapshot<T>} */
        structuredClone(e)
      );
    if (typeof /** @type {T & { toJSON?: any } } */
    e.toJSON == "function")
      return ve(
        /** @type {T & { toJSON(): any } } */
        e.toJSON(),
        n
      );
  }
  if (e instanceof EventTarget)
    return (
      /** @type {Snapshot<T>} */
      e
    );
  try {
    return (
      /** @type {Snapshot<T>} */
      structuredClone(e)
    );
  } catch {
    return (
      /** @type {Snapshot<T>} */
      e
    );
  }
}
function un(e, n, t, r = null, l = !1) {
  var u = e, i = null, c = null, s = null, f = l ? Ue : 0;
  kn(() => {
    s !== (s = !!n()) && (s ? (i ? he(i) : i = re(() => t(u)), c && Pe(c, () => {
      c = null;
    })) : (c ? he(c) : r && (c = re(() => r(u))), i && Pe(i, () => {
      i = null;
    })));
  }, f);
}
let Oe = null;
function fn(e, n) {
  return n;
}
function Yt(e, n, t, r) {
  for (var l = [], u = n.length, i = 0; i < u; i++)
    Ke(n[i].e, l, !0);
  var c = u > 0 && l.length === 0 && t !== null;
  if (c) {
    var s = (
      /** @type {Element} */
      /** @type {Element} */
      t.parentNode
    );
    Lt(s), s.append(
      /** @type {Element} */
      t
    ), r.clear(), H(e, n[0].prev, n[u - 1].next);
  }
  Cn(l, () => {
    for (var f = 0; f < u; f++) {
      var a = n[f];
      c || (r.delete(a.k), H(e, a.prev, a.next)), ee(a.e, !c);
    }
  });
}
function an(e, n, t, r, l, u = null) {
  var i = e, c = { flags: n, items: /* @__PURE__ */ new Map(), first: null }, s = (n & vn) !== 0;
  if (s) {
    var f = (
      /** @type {Element} */
      e
    );
    i = f.appendChild(Ge());
  }
  var a = null;
  kn(() => {
    var o = t(), v = be(o) ? o : o == null ? [] : He(o), _ = v.length;
    Kt(v, c, i, l, n, r), u !== null && (_ === 0 ? a ? he(a) : a = re(() => u(i)) : a !== null && Pe(a, () => {
      a = null;
    }));
  });
}
function Kt(e, n, t, r, l, u) {
  var Je, Ze, je, ze;
  var i = (l & Kn) !== 0, c = (l & (Ve | Be)) !== 0, s = e.length, f = n.items, a = n.first, o = a, v, _ = null, h, E = [], S = [], k, p, d, m;
  if (i)
    for (m = 0; m < s; m += 1)
      k = e[m], p = u(k, m), d = f.get(p), d !== void 0 && ((Je = d.a) == null || Je.measure(), (h ?? (h = /* @__PURE__ */ new Set())).add(d));
  for (m = 0; m < s; m += 1) {
    if (k = e[m], p = u(k, m), d = f.get(p), d === void 0) {
      var y = o ? (
        /** @type {TemplateNode} */
        o.e.nodes_start
      ) : t;
      _ = Gt(
        y,
        n,
        _,
        _ === null ? n.first : _.next,
        k,
        p,
        m,
        r,
        l
      ), f.set(p, _), E = [], S = [], o = _.next;
      continue;
    }
    if (c && Wt(d, k, m, l), d.e.f & L && (he(d.e), i && ((Ze = d.a) == null || Ze.unfix(), (h ?? (h = /* @__PURE__ */ new Set())).delete(d))), d !== o) {
      if (v !== void 0 && v.has(d)) {
        if (E.length < S.length) {
          var A = S[0], T;
          _ = A.prev;
          var R = E[0], V = E[E.length - 1];
          for (T = 0; T < E.length; T += 1)
            on(E[T], A, t);
          for (T = 0; T < S.length; T += 1)
            v.delete(S[T]);
          H(n, R.prev, V.next), H(n, _, R), H(n, V, A), o = A, _ = V, m -= 1, E = [], S = [];
        } else
          v.delete(d), on(d, o, t), H(n, d.prev, d.next), H(n, d, _ === null ? n.first : _.next), H(n, _, d), _ = d;
        continue;
      }
      for (E = [], S = []; o !== null && o.k !== p; )
        o.e.f & L || (v ?? (v = /* @__PURE__ */ new Set())).add(o), S.push(o), o = o.next;
      if (o === null)
        continue;
      d = o;
    }
    E.push(d), _ = d, o = d.next;
  }
  if (o !== null || v !== void 0) {
    for (var B = v === void 0 ? [] : He(v); o !== null; )
      o.e.f & L || B.push(o), o = o.next;
    var ne = B.length;
    if (ne > 0) {
      var Un = l & vn && s === 0 ? t : null;
      if (i) {
        for (m = 0; m < ne; m += 1)
          (je = B[m].a) == null || je.measure();
        for (m = 0; m < ne; m += 1)
          (ze = B[m].a) == null || ze.fix();
      }
      Yt(n, B, Un, f);
    }
  }
  i && bt(() => {
    var Xe;
    if (h !== void 0)
      for (d of h)
        (Xe = d.a) == null || Xe.apply();
  }), w.first = n.first && n.first.e, w.last = _ && _.e;
}
function Wt(e, n, t, r) {
  r & Ve && C(e.v, n), r & Be ? C(
    /** @type {Value<number>} */
    e.i,
    t
  ) : e.i = t;
}
function Gt(e, n, t, r, l, u, i, c, s) {
  var f = Oe;
  try {
    var a = (s & Ve) !== 0, o = (s & Wn) === 0, v = a ? o ? /* @__PURE__ */ gn(l) : D(l) : l, _ = s & Be ? D(i) : i, h = {
      i: _,
      v,
      k: u,
      a: null,
      // @ts-expect-error
      e: null,
      prev: t,
      next: r
    };
    return Oe = h, h.e = re(() => c(e, v, _), Bn), h.e.prev = t && t.e, h.e.next = r && r.e, t === null ? n.first = h : (t.next = h, t.e.next = h.e), r !== null && (r.prev = h, r.e.prev = h.e), h;
  } finally {
    Oe = f;
  }
}
function on(e, n, t) {
  for (var r = e.next ? (
    /** @type {TemplateNode} */
    e.next.e.nodes_start
  ) : t, l = n ? (
    /** @type {TemplateNode} */
    n.e.nodes_start
  ) : t, u = (
    /** @type {TemplateNode} */
    e.e.nodes_start
  ); u !== r; ) {
    var i = (
      /** @type {TemplateNode} */
      /* @__PURE__ */ xe(u)
    );
    l.before(u), u = i;
  }
}
function H(e, n, t) {
  n === null ? e.first = t : (n.next = t, n.e.next = t && t.e), t !== null && (t.prev = n, t.e.prev = n && n.e);
}
let sn = !1;
function Jt() {
  sn || (sn = !0, document.addEventListener(
    "reset",
    (e) => {
      Promise.resolve().then(() => {
        var n;
        if (!e.defaultPrevented)
          for (
            const t of
            /**@type {HTMLFormElement} */
            e.target.elements
          )
            (n = t.__on_r) == null || n.call(t);
      });
    },
    // In the capture phase to guarantee we get noticed of it (no possiblity of stopPropagation)
    { capture: !0 }
  ));
}
function De(e, n) {
  var t = e.__className, r = Zt(n);
  (t !== r || Bn) && (n == null ? e.removeAttribute("class") : e.className = r, e.__className = r);
}
function Zt(e) {
  return e ?? "";
}
function jt(e, n, t, r = t) {
  e.addEventListener(n, t);
  const l = e.__on_r;
  l ? e.__on_r = () => {
    l(), r();
  } : e.__on_r = r, Jt();
}
function zt(e, n, t = n) {
  var r = ge();
  jt(e, "input", () => {
    var l = cn(e) ? _n(e.value) : e.value;
    t(l), r && l !== (l = n()) && (e.value = l ?? "");
  }), Sn(() => {
    var l = n();
    cn(e) && l === _n(e.value) || e.type === "date" && !l && !e.value || (e.value = l ?? "");
  });
}
function cn(e) {
  var n = e.type;
  return n === "number" || n === "range";
}
function _n(e) {
  return e === "" ? null : +e;
}
function _e(e, n, t, r) {
  var m;
  var l = (t & Gn) !== 0, u = (t & Jn) !== 0, i = (t & jn) !== 0, c = (t & zn) !== 0, s = (
    /** @type {V} */
    e[n]
  ), f = (m = Q(e, n)) == null ? void 0 : m.set, a = (
    /** @type {V} */
    r
  ), o = !0, v = !1, _ = () => (v = !0, o && (o = !1, c ? a = Pt(
    /** @type {() => V} */
    r
  ) : a = /** @type {V} */
  r), a);
  s === void 0 && r !== void 0 && (f && u && ct(), s = _(), f && f(s));
  var h;
  if (u)
    h = () => {
      var y = (
        /** @type {V} */
        e[n]
      );
      return y === void 0 ? _() : (o = !0, v = !1, y);
    };
  else {
    var E = (l ? pe : St)(
      () => (
        /** @type {V} */
        e[n]
      )
    );
    E.f |= lt, h = () => {
      var y = g(E);
      return y !== void 0 && (a = /** @type {V} */
      void 0), y === void 0 ? a : y;
    };
  }
  if (!(t & Zn))
    return h;
  if (f) {
    var S = e.$$legacy;
    return function(y, A) {
      return arguments.length > 0 ? ((!u || !A || S) && f(A ? h() : y), y) : h();
    };
  }
  var k = !1, p = /* @__PURE__ */ gn(s), d = /* @__PURE__ */ pe(() => {
    var y = h(), A = g(p);
    return k ? (k = !1, A) : p.v = y;
  });
  return l || (d.equals = Ye), function(y, A) {
    var T = g(d);
    if (arguments.length > 0) {
      const R = A ? g(d) : u && i ? U(y) : y;
      return d.equals(R) || (k = !0, C(p, R), v && a !== void 0 && (a = R), g(d)), y;
    }
    return T;
  };
}
function Xt(e) {
  e.key === "ArrowDown" && (e.preventDefault(), e.stopPropagation());
}
var Qt = (e, n) => n(), $t = () => {
}, er = (e, n, t) => n(e, g(t)), nr = /* @__PURE__ */ se('<span> <button class="multi-select__remove svelte-19g5cm2">&times;</button></span>'), tr = /* @__PURE__ */ se('<span class="multi-select__placeholder svelte-19g5cm2"> </span>'), rr = (e, n, t) => n(g(t)), lr = /* @__PURE__ */ se('<li><button class="svelte-19g5cm2"> </button></li>'), ur = /* @__PURE__ */ se('<div class="multi-select__items svelte-19g5cm2"><div class="multi-select__search-box svelte-19g5cm2"><input type="search" placeholder="Search"></div> <ul class="svelte-19g5cm2"></ul></div>'), ir = /* @__PURE__ */ se('<div tabindex="1" role="button"><!></div> <!>', 1);
function ar(e, n) {
  Ln(n, !0);
  let t = _e(n, "options", 19, () => []), r = _e(n, "inputCssClass", 3, "form-control"), l = _e(n, "selectedOptionCssClass", 3, "badge"), u = _e(n, "placeholder", 3, "Select an option"), i = Ae(U([])), c = Ae(""), s = /* @__PURE__ */ pe(() => t().filter((p) => !g(i).some((d) => d == p)).filter((p) => g(c).trim() === "" || p.includes(g(c)))), f = Ae(!1);
  function a(p, d) {
    var m;
    p.preventDefault(), p.stopPropagation(), C(i, U(g(i).filter((y) => y !== d))), (m = n.oninput) == null || m.call(n, ln(g(i))), C(f, !1);
  }
  function o(p) {
    var d;
    g(i).push(p), C(f, !1), (d = n.oninput) == null || d.call(n, ln(g(i)));
  }
  function v() {
    g(s).length !== 0 && C(f, !0);
  }
  function _(p = null) {
    if (p === null) {
      C(f, !1);
      return;
    }
    g(f) === !1 || p.target.closest(".multi-select__items") !== null || p.target.closest(".form-control") !== null || C(f, !1);
  }
  Et(() => (document.addEventListener("click", _), () => document.removeEventListener("click", _)));
  var h = ir(), E = tn(h);
  Z(() => De(E, `${(r() + " multi-select").trim() ?? ""} svelte-19g5cm2`)), E.__click = [Qt, v], E.__keydown = [$t];
  var S = G(E);
  un(
    S,
    () => g(i).length,
    (p) => {
      var d = Vt(), m = tn(d);
      an(m, 17, () => g(i), fn, (y, A) => {
        var T = nr();
        Z(() => De(T, `${(l() + " multi-select__selected").trim() ?? ""} svelte-19g5cm2`));
        var R = G(T), V = Ie(R);
        V.__click = [er, a, A], Z(() => Ne(R, `${g(A) ?? ""} `)), j(y, T);
      }), j(p, d);
    },
    (p) => {
      var d = tr(), m = G(d);
      Z(() => Ne(m, u())), j(p, d);
    }
  );
  var k = Ie(E, 2);
  un(k, () => g(f), (p) => {
    var d = ur(), m = G(d), y = G(m);
    Z(() => De(y, `${(r() + " multi-select__search").trim() ?? ""} svelte-19g5cm2`)), y.__keydown = [Xt];
    var A = Ie(m, 2);
    an(A, 21, () => g(s), fn, (T, R) => {
      var V = lr(), B = G(V);
      B.__click = [rr, o, R];
      var ne = G(B);
      Z(() => Ne(ne, g(R))), j(T, V);
    }), zt(y, () => g(c), (T) => C(c, T)), j(p, d);
  }), j(e, h), qn();
}
qt(["click", "keydown"]);
export {
  ar as MultiSelect,
  fr as mount
};
