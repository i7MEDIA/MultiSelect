const Yn = "5";
typeof window < "u" && (window.__svelte || (window.__svelte = { v: /* @__PURE__ */ new Set() })).v.add(Yn);
const Ve = 1, Be = 2, vn = 4, Kn = 8, Wn = 16, Gn = 1, Jn = 2, Zn = 4, jn = 8, zn = 16, Xn = 1, Qn = 2, N = Symbol(), $n = !1;
var be = Array.isArray, He = Array.from, er = Object.defineProperty, Q = Object.getOwnPropertyDescriptor, dn = Object.prototype, nr = Array.prototype, hn = Object.getPrototypeOf;
function rr(e) {
  for (var n = 0; n < e.length; n++)
    e[n]();
}
const q = 2, pn = 4, ue = 8, mn = 16, W = 32, Se = 64, J = 128, de = 256, P = 512, K = 1024, ie = 2048, L = 4096, fe = 8192, tr = 16384, Ue = 32768, lr = 65536, ur = 1 << 18, wn = 1 << 19, Ce = Symbol("$state");
function En(e) {
  return e === this.v;
}
function ir(e, n) {
  return e != e ? n == n : e !== n || e !== null && typeof e == "object" || typeof e == "function";
}
function Ye(e) {
  return !ir(e, this.v);
}
function fr(e) {
  throw new Error("effect_in_teardown");
}
function ar() {
  throw new Error("effect_in_unowned_derived");
}
function or(e) {
  throw new Error("effect_orphan");
}
function sr() {
  throw new Error("effect_update_depth_exceeded");
}
function _r(e) {
  throw new Error("props_invalid_value");
}
function cr() {
  throw new Error("state_descriptors_fixed");
}
function vr() {
  throw new Error("state_prototype_fixed");
}
function dr() {
  throw new Error("state_unsafe_local_read");
}
function hr() {
  throw new Error("state_unsafe_mutation");
}
function D(e) {
  return {
    f: 0,
    // TODO ideally we could skip this altogether, but it causes type errors
    v: e,
    reactions: null,
    equals: En,
    version: 0
  };
}
function Ae(e) {
  return /* @__PURE__ */ pr(D(e));
}
// @__NO_SIDE_EFFECTS__
function gn(e) {
  var r;
  const n = D(e);
  return n.equals = Ye, x !== null && x.l !== null && ((r = x.l).s ?? (r.s = [])).push(n), n;
}
// @__NO_SIDE_EFFECTS__
function pr(e) {
  return b !== null && b.f & q && (M === null ? Tr([e]) : M.push(e)), e;
}
function C(e, n) {
  return b !== null && ge() && b.f & q && // If the source was created locally within the current derived, then
  // we allow the mutation.
  (M === null || !M.includes(e)) && hr(), e.equals(n) || (e.v = n, e.version = Dn(), yn(e, K), ge() && w !== null && w.f & P && !(w.f & W) && (I !== null && I.includes(e) ? (F(w, K), Te(w)) : Y === null ? xr([e]) : Y.push(e))), n;
}
function yn(e, n) {
  var r = e.reactions;
  if (r !== null)
    for (var t = ge(), l = r.length, u = 0; u < l; u++) {
      var i = r[u], _ = i.f;
      _ & K || !t && i === w || (F(i, n), _ & (P | J) && (_ & q ? yn(
        /** @type {Derived} */
        i,
        ie
      ) : Te(
        /** @type {Effect} */
        i
      )));
    }
}
function mr(e) {
  w === null && b === null && or(), b !== null && b.f & J && ar(), We && fr();
}
function wr(e, n) {
  var r = n.last;
  r === null ? n.last = n.first = e : (r.next = e, e.prev = r, n.last = e);
}
function ae(e, n, r, t = !0) {
  var l = (e & Se) !== 0, u = w, i = {
    ctx: x,
    deps: null,
    nodes_start: null,
    nodes_end: null,
    f: e | K,
    first: null,
    fn: n,
    last: null,
    next: null,
    parent: l ? null : u,
    prev: null,
    teardown: null,
    transitions: null,
    version: 0
  };
  if (r) {
    var _ = $;
    try {
      Qe(!0), ke(i), i.f |= tr;
    } catch (a) {
      throw ee(i), a;
    } finally {
      Qe(_);
    }
  } else n !== null && Te(i);
  var s = r && i.deps === null && i.first === null && i.nodes_start === null && i.teardown === null && (i.f & wn) === 0;
  if (!s && !l && t && (u !== null && wr(i, u), b !== null && b.f & q)) {
    var f = (
      /** @type {Derived} */
      b
    );
    (f.children ?? (f.children = [])).push(i);
  }
  return i;
}
function Er(e) {
  mr();
  var n = w !== null && (w.f & ue) !== 0 && // TODO do we actually need this? removing them changes nothing
  x !== null && !x.m;
  if (n) {
    var r = (
      /** @type {ComponentContext} */
      x
    );
    (r.e ?? (r.e = [])).push({
      fn: e,
      effect: w,
      reaction: b
    });
  } else {
    var t = bn(e);
    return t;
  }
}
function gr(e) {
  const n = ae(Se, e, !0);
  return () => {
    ee(n);
  };
}
function bn(e) {
  return ae(pn, e, !1);
}
function Sn(e) {
  return ae(ue, e, !0);
}
function Z(e) {
  return Sn(e);
}
function kn(e, n = 0) {
  return ae(ue | mn | n, e, !0);
}
function te(e, n = !0) {
  return ae(ue | W, e, !0, n);
}
function Tn(e) {
  var n = e.teardown;
  if (n !== null) {
    const r = We, t = b;
    $e(!0), we(null);
    try {
      n.call(null);
    } finally {
      $e(r), we(t);
    }
  }
}
function ee(e, n = !0) {
  var r = !1;
  if ((n || e.f & ur) && e.nodes_start !== null) {
    for (var t = e.nodes_start, l = e.nodes_end; t !== null; ) {
      var u = t === l ? null : (
        /** @type {TemplateNode} */
        /* @__PURE__ */ xe(t)
      );
      t.remove(), t = u;
    }
    r = !0;
  }
  Rn(e, n && !r), le(e, 0), F(e, fe);
  var i = e.transitions;
  if (i !== null)
    for (const s of i)
      s.stop();
  Tn(e);
  var _ = e.parent;
  _ !== null && _.first !== null && xn(e), e.next = e.prev = e.teardown = e.ctx = e.deps = e.parent = e.fn = e.nodes_start = e.nodes_end = null;
}
function xn(e) {
  var n = e.parent, r = e.prev, t = e.next;
  r !== null && (r.next = t), t !== null && (t.prev = r), n !== null && (n.first === e && (n.first = t), n.last === e && (n.last = r));
}
function Pe(e, n) {
  var r = [];
  Ke(e, r, !0), Cn(r, () => {
    ee(e), n && n();
  });
}
function Cn(e, n) {
  var r = e.length;
  if (r > 0) {
    var t = () => --r || n();
    for (var l of e)
      l.out(t);
  } else
    n();
}
function Ke(e, n, r) {
  if (!(e.f & L)) {
    if (e.f ^= L, e.transitions !== null)
      for (const i of e.transitions)
        (i.is_global || r) && n.push(i);
    for (var t = e.first; t !== null; ) {
      var l = t.next, u = (t.f & Ue) !== 0 || (t.f & W) !== 0;
      Ke(t, n, u ? r : !1), t = l;
    }
  }
}
function he(e) {
  An(e, !0);
}
function An(e, n) {
  if (e.f & L) {
    e.f ^= L, oe(e) && ke(e);
    for (var r = e.first; r !== null; ) {
      var t = r.next, l = (r.f & Ue) !== 0 || (r.f & W) !== 0;
      An(r, l ? n : !1), r = t;
    }
    if (e.transitions !== null)
      for (const u of e.transitions)
        (u.is_global || n) && u.in();
  }
}
let Re = !1, Me = [];
function yr() {
  Re = !1;
  const e = Me.slice();
  Me = [], rr(e);
}
function br(e) {
  Re || (Re = !0, queueMicrotask(yr)), Me.push(e);
}
// @__NO_SIDE_EFFECTS__
function pe(e) {
  let n = q | K;
  w === null ? n |= J : w.f |= wn;
  const r = {
    children: null,
    deps: null,
    equals: En,
    f: n,
    fn: e,
    reactions: null,
    v: (
      /** @type {V} */
      null
    ),
    version: 0,
    parent: w
  };
  if (b !== null && b.f & q) {
    var t = (
      /** @type {Derived} */
      b
    );
    (t.children ?? (t.children = [])).push(r);
  }
  return r;
}
// @__NO_SIDE_EFFECTS__
function Sr(e) {
  const n = /* @__PURE__ */ pe(e);
  return n.equals = Ye, n;
}
function In(e) {
  var n = e.children;
  if (n !== null) {
    e.children = null;
    for (var r = 0; r < n.length; r += 1) {
      var t = n[r];
      t.f & q ? kr(
        /** @type {Derived} */
        t
      ) : ee(
        /** @type {Effect} */
        t
      );
    }
  }
}
function Nn(e) {
  var n, r = w;
  Ee(e.parent);
  try {
    In(e), n = Pn(e);
  } finally {
    Ee(r);
  }
  var t = (X || e.f & J) && e.deps !== null ? ie : P;
  F(e, t), e.equals(n) || (e.v = n, e.version = Dn());
}
function kr(e) {
  In(e), le(e, 0), F(e, fe), e.children = e.deps = e.reactions = // @ts-expect-error `signal.fn` cannot be `null` while the signal is alive
  e.fn = null;
}
let me = !1, $ = !1, We = !1;
function Qe(e) {
  $ = e;
}
function $e(e) {
  We = e;
}
let Le = [], re = 0;
let b = null;
function we(e) {
  b = e;
}
let w = null;
function Ee(e) {
  w = e;
}
let M = null;
function Tr(e) {
  M = e;
}
let I = null, O = 0, Y = null;
function xr(e) {
  Y = e;
}
let On = 0, X = !1, x = null;
function Dn() {
  return ++On;
}
function ge() {
  return x !== null && x.l === null;
}
function oe(e) {
  var i, _;
  var n = e.f;
  if (n & K)
    return !0;
  if (n & ie) {
    var r = e.deps, t = (n & J) !== 0;
    if (r !== null) {
      var l;
      if (n & de) {
        for (l = 0; l < r.length; l++)
          ((i = r[l]).reactions ?? (i.reactions = [])).push(e);
        e.f ^= de;
      }
      for (l = 0; l < r.length; l++) {
        var u = r[l];
        if (oe(
          /** @type {Derived} */
          u
        ) && Nn(
          /** @type {Derived} */
          u
        ), t && w !== null && !X && !((_ = u == null ? void 0 : u.reactions) != null && _.includes(e)) && (u.reactions ?? (u.reactions = [])).push(e), u.version > e.version)
          return !0;
      }
    }
    t || F(e, P);
  }
  return !1;
}
function Cr(e, n, r) {
  throw e;
}
function Pn(e) {
  var a;
  var n = I, r = O, t = Y, l = b, u = X, i = M;
  I = /** @type {null | Value[]} */
  null, O = 0, Y = null, b = e.f & (W | Se) ? null : e, X = !$ && (e.f & J) !== 0, M = null;
  try {
    var _ = (
      /** @type {Function} */
      (0, e.fn)()
    ), s = e.deps;
    if (I !== null) {
      var f;
      if (le(e, O), s !== null && O > 0)
        for (s.length = O + I.length, f = 0; f < I.length; f++)
          s[O + f] = I[f];
      else
        e.deps = s = I;
      if (!X)
        for (f = O; f < s.length; f++)
          ((a = s[f]).reactions ?? (a.reactions = [])).push(e);
    } else s !== null && O < s.length && (le(e, O), s.length = O);
    return _;
  } finally {
    I = n, O = r, Y = t, b = l, X = u, M = i;
  }
}
function Ar(e, n) {
  let r = n.reactions;
  if (r !== null) {
    var t = r.indexOf(e);
    if (t !== -1) {
      var l = r.length - 1;
      l === 0 ? r = n.reactions = null : (r[t] = r[l], r.pop());
    }
  }
  r === null && n.f & q && // Destroying a child effect while updating a parent effect can cause a dependency to appear
  // to be unused, when in fact it is used by the currently-updating parent. Checking `new_deps`
  // allows us to skip the expensive work of disconnecting and immediately reconnecting it
  (I === null || !I.includes(n)) && (F(n, ie), n.f & (J | de) || (n.f ^= de), le(
    /** @type {Derived} **/
    n,
    0
  ));
}
function le(e, n) {
  var r = e.deps;
  if (r !== null)
    for (var t = n; t < r.length; t++)
      Ar(e, r[t]);
}
function Rn(e, n = !1) {
  var r = e.first;
  for (e.first = e.last = null; r !== null; ) {
    var t = r.next;
    ee(r, n), r = t;
  }
}
function ke(e) {
  var n = e.f;
  if (!(n & fe)) {
    F(e, P);
    var r = w, t = x;
    w = e, x = e.ctx;
    try {
      n & mn || Rn(e), Tn(e);
      var l = Pn(e);
      e.teardown = typeof l == "function" ? l : null, e.version = On;
    } catch (u) {
      Cr(
        /** @type {Error} */
        u
      );
    } finally {
      w = r, x = t;
    }
  }
}
function Ir() {
  re > 1e3 && (re = 0, sr()), re++;
}
function Nr(e) {
  var n = e.length;
  if (n !== 0) {
    Ir();
    var r = $;
    $ = !0;
    try {
      for (var t = 0; t < n; t++) {
        var l = e[t];
        l.f & P || (l.f ^= P);
        var u = [];
        Mn(l, u), Or(u);
      }
    } finally {
      $ = r;
    }
  }
}
function Or(e) {
  var n = e.length;
  if (n !== 0)
    for (var r = 0; r < n; r++) {
      var t = e[r];
      !(t.f & (fe | L)) && oe(t) && (ke(t), t.deps === null && t.first === null && t.nodes_start === null && (t.teardown === null ? xn(t) : t.fn = null));
    }
}
function Dr() {
  if (me = !1, re > 1001)
    return;
  const e = Le;
  Le = [], Nr(e), me || (re = 0);
}
function Te(e) {
  me || (me = !0, queueMicrotask(Dr));
  for (var n = e; n.parent !== null; ) {
    n = n.parent;
    var r = n.f;
    if (r & (Se | W)) {
      if (!(r & P)) return;
      n.f ^= P;
    }
  }
  Le.push(n);
}
function Mn(e, n) {
  var r = e.first, t = [];
  e: for (; r !== null; ) {
    var l = r.f, u = (l & W) !== 0, i = u && (l & P) !== 0;
    if (!i && !(l & L))
      if (l & ue) {
        u ? r.f ^= P : oe(r) && ke(r);
        var _ = r.first;
        if (_ !== null) {
          r = _;
          continue;
        }
      } else l & pn && t.push(r);
    var s = r.next;
    if (s === null) {
      let o = r.parent;
      for (; o !== null; ) {
        if (e === o)
          break e;
        var f = o.next;
        if (f !== null) {
          r = f;
          continue e;
        }
        o = o.parent;
      }
    }
    r = s;
  }
  for (var a = 0; a < t.length; a++)
    _ = t[a], n.push(_), Mn(_, n);
}
function g(e) {
  var n = e.f;
  if (n & fe)
    return e.v;
  if (b !== null) {
    M !== null && M.includes(e) && dr();
    var r = b.deps;
    I === null && r !== null && r[O] === e ? O++ : I === null ? I = [e] : I.push(e), Y !== null && w !== null && w.f & P && !(w.f & W) && Y.includes(e) && (F(w, K), Te(w));
  }
  if (n & q) {
    var t = (
      /** @type {Derived} */
      e
    );
    oe(t) && Nn(t);
  }
  return e.v;
}
function Pr(e) {
  const n = b;
  try {
    return b = null, e();
  } finally {
    b = n;
  }
}
const Rr = ~(K | ie | P);
function F(e, n) {
  e.f = e.f & Rr | n;
}
function Ln(e, n = !1, r) {
  x = {
    p: x,
    c: null,
    e: null,
    m: !1,
    s: e,
    x: null,
    l: null
  }, n || (x.l = {
    s: null,
    u: null,
    r1: [],
    r2: D(!1)
  });
}
function qn(e) {
  const n = x;
  if (n !== null) {
    const i = n.e;
    if (i !== null) {
      var r = w, t = b;
      n.e = null;
      try {
        for (var l = 0; l < i.length; l++) {
          var u = i[l];
          Ee(u.effect), we(u.reaction), bn(u.fn);
        }
      } finally {
        Ee(r), we(t);
      }
    }
    x = n.p, n.m = !0;
  }
  return (
    /** @type {T} */
    {}
  );
}
function U(e, n = null, r) {
  if (typeof e != "object" || e === null || Ce in e)
    return e;
  const t = hn(e);
  if (t !== dn && t !== nr)
    return e;
  var l = /* @__PURE__ */ new Map(), u = be(e), i = D(0);
  u && l.set("length", D(
    /** @type {any[]} */
    e.length
  ));
  var _;
  return new Proxy(
    /** @type {any} */
    e,
    {
      defineProperty(s, f, a) {
        (!("value" in a) || a.configurable === !1 || a.enumerable === !1 || a.writable === !1) && cr();
        var o = l.get(f);
        return o === void 0 ? (o = D(a.value), l.set(f, o)) : C(o, U(a.value, _)), !0;
      },
      deleteProperty(s, f) {
        var a = l.get(f);
        return a === void 0 ? f in s && l.set(f, D(N)) : (C(a, N), en(i)), !0;
      },
      get(s, f, a) {
        var h;
        if (f === Ce)
          return e;
        var o = l.get(f), v = f in s;
        if (o === void 0 && (!v || (h = Q(s, f)) != null && h.writable) && (o = D(U(v ? s[f] : N, _)), l.set(f, o)), o !== void 0) {
          var c = g(o);
          return c === N ? void 0 : c;
        }
        return Reflect.get(s, f, a);
      },
      getOwnPropertyDescriptor(s, f) {
        var a = Reflect.getOwnPropertyDescriptor(s, f);
        if (a && "value" in a) {
          var o = l.get(f);
          o && (a.value = g(o));
        } else if (a === void 0) {
          var v = l.get(f), c = v == null ? void 0 : v.v;
          if (v !== void 0 && c !== N)
            return {
              enumerable: !0,
              configurable: !0,
              value: c,
              writable: !0
            };
        }
        return a;
      },
      has(s, f) {
        var c;
        if (f === Ce)
          return !0;
        var a = l.get(f), o = a !== void 0 && a.v !== N || Reflect.has(s, f);
        if (a !== void 0 || w !== null && (!o || (c = Q(s, f)) != null && c.writable)) {
          a === void 0 && (a = D(o ? U(s[f], _) : N), l.set(f, a));
          var v = g(a);
          if (v === N)
            return !1;
        }
        return o;
      },
      set(s, f, a, o) {
        var d;
        var v = l.get(f), c = f in s;
        if (u && f === "length")
          for (var h = a; h < /** @type {Source<number>} */
          v.v; h += 1) {
            var E = l.get(h + "");
            E !== void 0 ? C(E, N) : h in s && (E = D(N), l.set(h + "", E));
          }
        v === void 0 ? (!c || (d = Q(s, f)) != null && d.writable) && (v = D(void 0), C(v, U(a, _)), l.set(f, v)) : (c = v.v !== N, C(v, U(a, _)));
        var S = Reflect.getOwnPropertyDescriptor(s, f);
        if (S != null && S.set && S.set.call(o, a), !c) {
          if (u && typeof f == "string") {
            var k = (
              /** @type {Source<number>} */
              l.get("length")
            ), p = Number(f);
            Number.isInteger(p) && p >= k.v && C(k, p + 1);
          }
          en(i);
        }
        return !0;
      },
      ownKeys(s) {
        g(i);
        var f = Reflect.ownKeys(s).filter((v) => {
          var c = l.get(v);
          return c === void 0 || c.v !== N;
        });
        for (var [a, o] of l)
          o.v !== N && !(a in s) && f.push(a);
        return f;
      },
      setPrototypeOf() {
        vr();
      }
    }
  );
}
function en(e, n = 1) {
  C(e, e.v + n);
}
var nn, Fn, Vn;
function Mr() {
  if (nn === void 0) {
    nn = window;
    var e = Element.prototype, n = Node.prototype;
    Fn = Q(n, "firstChild").get, Vn = Q(n, "nextSibling").get, e.__click = void 0, e.__className = "", e.__attributes = null, e.__e = void 0, Text.prototype.__t = void 0;
  }
}
function Ge(e = "") {
  return document.createTextNode(e);
}
// @__NO_SIDE_EFFECTS__
function ye(e) {
  return Fn.call(e);
}
// @__NO_SIDE_EFFECTS__
function xe(e) {
  return Vn.call(e);
}
function G(e) {
  return /* @__PURE__ */ ye(e);
}
function rn(e, n) {
  {
    var r = (
      /** @type {DocumentFragment} */
      /* @__PURE__ */ ye(
        /** @type {Node} */
        e
      )
    );
    return r instanceof Comment && r.data === "" ? /* @__PURE__ */ xe(r) : r;
  }
}
function Ie(e, n = 1, r = !1) {
  let t = e;
  for (; n--; )
    t = /** @type {TemplateNode} */
    /* @__PURE__ */ xe(t);
  return t;
}
function Lr(e) {
  e.textContent = "";
}
let Bn = !1;
const Hn = /* @__PURE__ */ new Set(), qe = /* @__PURE__ */ new Set();
function qr(e) {
  for (var n = 0; n < e.length; n++)
    Hn.add(e[n]);
  for (var r of qe)
    r(e);
}
function _e(e) {
  var S;
  var n = this, r = (
    /** @type {Node} */
    n.ownerDocument
  ), t = e.type, l = ((S = e.composedPath) == null ? void 0 : S.call(e)) || [], u = (
    /** @type {null | Element} */
    l[0] || e.target
  ), i = 0, _ = e.__root;
  if (_) {
    var s = l.indexOf(_);
    if (s !== -1 && (n === document || n === /** @type {any} */
    window)) {
      e.__root = n;
      return;
    }
    var f = l.indexOf(n);
    if (f === -1)
      return;
    s <= f && (i = s);
  }
  if (u = /** @type {Element} */
  l[i] || e.target, u !== n) {
    er(e, "currentTarget", {
      configurable: !0,
      get() {
        return u || r;
      }
    });
    try {
      for (var a, o = []; u !== null; ) {
        var v = u.assignedSlot || u.parentNode || /** @type {any} */
        u.host || null;
        try {
          var c = u["__" + t];
          if (c !== void 0 && !/** @type {any} */
          u.disabled)
            if (be(c)) {
              var [h, ...E] = c;
              h.apply(u, [e, ...E]);
            } else
              c.call(u, e);
        } catch (k) {
          a ? o.push(k) : a = k;
        }
        if (e.cancelBubble || v === n || v === null)
          break;
        u = v;
      }
      if (a) {
        for (let k of o)
          queueMicrotask(() => {
            throw k;
          });
        throw a;
      }
    } finally {
      e.__root = n, delete e.currentTarget;
    }
  }
}
function Fr(e) {
  var n = document.createElement("template");
  return n.innerHTML = e, n.content;
}
function Fe(e, n) {
  var r = (
    /** @type {Effect} */
    w
  );
  r.nodes_start === null && (r.nodes_start = e, r.nodes_end = n);
}
// @__NO_SIDE_EFFECTS__
function se(e, n) {
  var r = (n & Xn) !== 0, t = (n & Qn) !== 0, l, u = !e.startsWith("<!>");
  return () => {
    l === void 0 && (l = Fr(u ? e : "<!>" + e), r || (l = /** @type {Node} */
    /* @__PURE__ */ ye(l)));
    var i = (
      /** @type {TemplateNode} */
      t ? document.importNode(l, !0) : l.cloneNode(!0)
    );
    if (r) {
      var _ = (
        /** @type {TemplateNode} */
        /* @__PURE__ */ ye(i)
      ), s = (
        /** @type {TemplateNode} */
        i.lastChild
      );
      Fe(_, s);
    } else
      Fe(i, i);
    return i;
  };
}
function Vr() {
  var e = document.createDocumentFragment(), n = document.createComment(""), r = Ge();
  return e.append(n, r), Fe(n, r), e;
}
function j(e, n) {
  e !== null && e.before(
    /** @type {Node} */
    n
  );
}
const Br = ["touchstart", "touchmove"];
function Hr(e) {
  return Br.includes(e);
}
function Ne(e, n) {
  n !== (e.__t ?? (e.__t = e.nodeValue)) && (e.__t = n, e.nodeValue = n == null ? "" : n + "");
}
function ft(e, n) {
  return Ur(e, n);
}
const z = /* @__PURE__ */ new Map();
function Ur(e, { target: n, anchor: r, props: t = {}, events: l, context: u, intro: i = !0 }) {
  Mr();
  var _ = /* @__PURE__ */ new Set(), s = (o) => {
    for (var v = 0; v < o.length; v++) {
      var c = o[v];
      if (!_.has(c)) {
        _.add(c);
        var h = Hr(c);
        n.addEventListener(c, _e, { passive: h });
        var E = z.get(c);
        E === void 0 ? (document.addEventListener(c, _e, { passive: h }), z.set(c, 1)) : z.set(c, E + 1);
      }
    }
  };
  s(He(Hn)), qe.add(s);
  var f = void 0, a = gr(() => {
    var o = r ?? n.appendChild(Ge());
    return te(() => {
      if (u) {
        Ln({});
        var v = (
          /** @type {ComponentContext} */
          x
        );
        v.c = u;
      }
      l && (t.$$events = l), f = e(o, t) || {}, u && qn();
    }), () => {
      var h;
      for (var v of _) {
        n.removeEventListener(v, _e);
        var c = (
          /** @type {number} */
          z.get(v)
        );
        --c === 0 ? (document.removeEventListener(v, _e), z.delete(v)) : z.set(v, c);
      }
      qe.delete(s), tn.delete(f), o !== r && ((h = o.parentNode) == null || h.removeChild(o));
    };
  });
  return tn.set(f, a), f;
}
let tn = /* @__PURE__ */ new WeakMap();
function ln(e, n = !1) {
  return ve(e, /* @__PURE__ */ new Map());
}
function ve(e, n, r, t) {
  if (typeof e == "object" && e !== null) {
    const u = n.get(e);
    if (u !== void 0) return u;
    if (e instanceof Map) return (
      /** @type {Snapshot<T>} */
      new Map(e)
    );
    if (e instanceof Set) return (
      /** @type {Snapshot<T>} */
      new Set(e)
    );
    if (be(e)) {
      const i = (
        /** @type {Snapshot<any>} */
        []
      );
      n.set(e, i);
      for (let _ = 0; _ < e.length; _ += 1)
        i.push(ve(e[_], n));
      return i;
    }
    if (hn(e) === dn) {
      const i = {};
      n.set(e, i);
      for (var l in e)
        i[l] = ve(e[l], n);
      return i;
    }
    if (e instanceof Date)
      return (
        /** @type {Snapshot<T>} */
        structuredClone(e)
      );
    if (typeof /** @type {T & { toJSON?: any } } */
    e.toJSON == "function")
      return ve(
        /** @type {T & { toJSON(): any } } */
        e.toJSON(),
        n
      );
  }
  if (e instanceof EventTarget)
    return (
      /** @type {Snapshot<T>} */
      e
    );
  try {
    return (
      /** @type {Snapshot<T>} */
      structuredClone(e)
    );
  } catch {
    return (
      /** @type {Snapshot<T>} */
      e
    );
  }
}
function un(e, n, r, t = null, l = !1) {
  var u = e, i = null, _ = null, s = null, f = l ? Ue : 0;
  kn(() => {
    s !== (s = !!n()) && (s ? (i ? he(i) : i = te(() => r(u)), _ && Pe(_, () => {
      _ = null;
    })) : (_ ? he(_) : t && (_ = te(() => t(u))), i && Pe(i, () => {
      i = null;
    })));
  }, f);
}
let Oe = null;
function fn(e, n) {
  return n;
}
function Yr(e, n, r, t) {
  for (var l = [], u = n.length, i = 0; i < u; i++)
    Ke(n[i].e, l, !0);
  var _ = u > 0 && l.length === 0 && r !== null;
  if (_) {
    var s = (
      /** @type {Element} */
      /** @type {Element} */
      r.parentNode
    );
    Lr(s), s.append(
      /** @type {Element} */
      r
    ), t.clear(), H(e, n[0].prev, n[u - 1].next);
  }
  Cn(l, () => {
    for (var f = 0; f < u; f++) {
      var a = n[f];
      _ || (t.delete(a.k), H(e, a.prev, a.next)), ee(a.e, !_);
    }
  });
}
function an(e, n, r, t, l, u = null) {
  var i = e, _ = { flags: n, items: /* @__PURE__ */ new Map(), first: null }, s = (n & vn) !== 0;
  if (s) {
    var f = (
      /** @type {Element} */
      e
    );
    i = f.appendChild(Ge());
  }
  var a = null;
  kn(() => {
    var o = r(), v = be(o) ? o : o == null ? [] : He(o), c = v.length;
    Kr(v, _, i, l, n, t), u !== null && (c === 0 ? a ? he(a) : a = te(() => u(i)) : a !== null && Pe(a, () => {
      a = null;
    }));
  });
}
function Kr(e, n, r, t, l, u) {
  var Je, Ze, je, ze;
  var i = (l & Kn) !== 0, _ = (l & (Ve | Be)) !== 0, s = e.length, f = n.items, a = n.first, o = a, v, c = null, h, E = [], S = [], k, p, d, m;
  if (i)
    for (m = 0; m < s; m += 1)
      k = e[m], p = u(k, m), d = f.get(p), d !== void 0 && ((Je = d.a) == null || Je.measure(), (h ?? (h = /* @__PURE__ */ new Set())).add(d));
  for (m = 0; m < s; m += 1) {
    if (k = e[m], p = u(k, m), d = f.get(p), d === void 0) {
      var y = o ? (
        /** @type {TemplateNode} */
        o.e.nodes_start
      ) : r;
      c = Gr(
        y,
        n,
        c,
        c === null ? n.first : c.next,
        k,
        p,
        m,
        t,
        l
      ), f.set(p, c), E = [], S = [], o = c.next;
      continue;
    }
    if (_ && Wr(d, k, m, l), d.e.f & L && (he(d.e), i && ((Ze = d.a) == null || Ze.unfix(), (h ?? (h = /* @__PURE__ */ new Set())).delete(d))), d !== o) {
      if (v !== void 0 && v.has(d)) {
        if (E.length < S.length) {
          var A = S[0], T;
          c = A.prev;
          var R = E[0], V = E[E.length - 1];
          for (T = 0; T < E.length; T += 1)
            on(E[T], A, r);
          for (T = 0; T < S.length; T += 1)
            v.delete(S[T]);
          H(n, R.prev, V.next), H(n, c, R), H(n, V, A), o = A, c = V, m -= 1, E = [], S = [];
        } else
          v.delete(d), on(d, o, r), H(n, d.prev, d.next), H(n, d, c === null ? n.first : c.next), H(n, c, d), c = d;
        continue;
      }
      for (E = [], S = []; o !== null && o.k !== p; )
        o.e.f & L || (v ?? (v = /* @__PURE__ */ new Set())).add(o), S.push(o), o = o.next;
      if (o === null)
        continue;
      d = o;
    }
    E.push(d), c = d, o = d.next;
  }
  if (o !== null || v !== void 0) {
    for (var B = v === void 0 ? [] : He(v); o !== null; )
      o.e.f & L || B.push(o), o = o.next;
    var ne = B.length;
    if (ne > 0) {
      var Un = l & vn && s === 0 ? r : null;
      if (i) {
        for (m = 0; m < ne; m += 1)
          (je = B[m].a) == null || je.measure();
        for (m = 0; m < ne; m += 1)
          (ze = B[m].a) == null || ze.fix();
      }
      Yr(n, B, Un, f);
    }
  }
  i && br(() => {
    var Xe;
    if (h !== void 0)
      for (d of h)
        (Xe = d.a) == null || Xe.apply();
  }), w.first = n.first && n.first.e, w.last = c && c.e;
}
function Wr(e, n, r, t) {
  t & Ve && C(e.v, n), t & Be ? C(
    /** @type {Value<number>} */
    e.i,
    r
  ) : e.i = r;
}
function Gr(e, n, r, t, l, u, i, _, s) {
  var f = Oe;
  try {
    var a = (s & Ve) !== 0, o = (s & Wn) === 0, v = a ? o ? /* @__PURE__ */ gn(l) : D(l) : l, c = s & Be ? D(i) : i, h = {
      i: c,
      v,
      k: u,
      a: null,
      // @ts-expect-error
      e: null,
      prev: r,
      next: t
    };
    return Oe = h, h.e = te(() => _(e, v, c), Bn), h.e.prev = r && r.e, h.e.next = t && t.e, r === null ? n.first = h : (r.next = h, r.e.next = h.e), t !== null && (t.prev = h, t.e.prev = h.e), h;
  } finally {
    Oe = f;
  }
}
function on(e, n, r) {
  for (var t = e.next ? (
    /** @type {TemplateNode} */
    e.next.e.nodes_start
  ) : r, l = n ? (
    /** @type {TemplateNode} */
    n.e.nodes_start
  ) : r, u = (
    /** @type {TemplateNode} */
    e.e.nodes_start
  ); u !== t; ) {
    var i = (
      /** @type {TemplateNode} */
      /* @__PURE__ */ xe(u)
    );
    l.before(u), u = i;
  }
}
function H(e, n, r) {
  n === null ? e.first = r : (n.next = r, n.e.next = r && r.e), r !== null && (r.prev = n, r.e.prev = n && n.e);
}
let sn = !1;
function Jr() {
  sn || (sn = !0, document.addEventListener(
    "reset",
    (e) => {
      Promise.resolve().then(() => {
        var n;
        if (!e.defaultPrevented)
          for (
            const r of
            /**@type {HTMLFormElement} */
            e.target.elements
          )
            (n = r.__on_r) == null || n.call(r);
      });
    },
    // In the capture phase to guarantee we get noticed of it (no possiblity of stopPropagation)
    { capture: !0 }
  ));
}
function De(e, n) {
  var r = e.__className, t = Zr(n);
  (r !== t || Bn) && (n == null ? e.removeAttribute("class") : e.className = t, e.__className = t);
}
function Zr(e) {
  return e ?? "";
}
function jr(e, n, r, t = r) {
  e.addEventListener(n, r);
  const l = e.__on_r;
  l ? e.__on_r = () => {
    l(), t();
  } : e.__on_r = t, Jr();
}
function zr(e, n, r = n) {
  var t = ge();
  jr(e, "input", () => {
    var l = _n(e) ? cn(e.value) : e.value;
    r(l), t && l !== (l = n()) && (e.value = l ?? "");
  }), Sn(() => {
    var l = n();
    _n(e) && l === cn(e.value) || e.type === "date" && !l && !e.value || (e.value = l ?? "");
  });
}
function _n(e) {
  var n = e.type;
  return n === "number" || n === "range";
}
function cn(e) {
  return e === "" ? null : +e;
}
function ce(e, n, r, t) {
  var m;
  var l = (r & Gn) !== 0, u = (r & Jn) !== 0, i = (r & jn) !== 0, _ = (r & zn) !== 0, s = (
    /** @type {V} */
    e[n]
  ), f = (m = Q(e, n)) == null ? void 0 : m.set, a = (
    /** @type {V} */
    t
  ), o = !0, v = !1, c = () => (v = !0, o && (o = !1, _ ? a = Pr(
    /** @type {() => V} */
    t
  ) : a = /** @type {V} */
  t), a);
  s === void 0 && t !== void 0 && (f && u && _r(), s = c(), f && f(s));
  var h;
  if (u)
    h = () => {
      var y = (
        /** @type {V} */
        e[n]
      );
      return y === void 0 ? c() : (o = !0, v = !1, y);
    };
  else {
    var E = (l ? pe : Sr)(
      () => (
        /** @type {V} */
        e[n]
      )
    );
    E.f |= lr, h = () => {
      var y = g(E);
      return y !== void 0 && (a = /** @type {V} */
      void 0), y === void 0 ? a : y;
    };
  }
  if (!(r & Zn))
    return h;
  if (f) {
    var S = e.$$legacy;
    return function(y, A) {
      return arguments.length > 0 ? ((!u || !A || S) && f(A ? h() : y), y) : h();
    };
  }
  var k = !1, p = /* @__PURE__ */ gn(s), d = /* @__PURE__ */ pe(() => {
    var y = h(), A = g(p);
    return k ? (k = !1, A) : p.v = y;
  });
  return l || (d.equals = Ye), function(y, A) {
    var T = g(d);
    if (arguments.length > 0) {
      const R = A ? g(d) : u && i ? U(y) : y;
      return d.equals(R) || (k = !0, C(p, R), v && a !== void 0 && (a = R), g(d)), y;
    }
    return T;
  };
}
function Xr(e) {
  e.key === "ArrowDown" && (e.preventDefault(), e.stopPropagation());
}
var Qr = (e, n) => n(), $r = () => {
}, et = (e, n, r) => n(e, g(r)), nt = /* @__PURE__ */ se('<span> <button class="multi-select__remove svelte-1rrtb82">&times;</button></span>'), rt = /* @__PURE__ */ se('<span class="multi-select__placeholder svelte-1rrtb82"> </span>'), tt = (e, n, r) => n(g(r)), lt = /* @__PURE__ */ se('<li><button class="svelte-1rrtb82"> </button></li>'), ut = /* @__PURE__ */ se('<div class="multi-select__items svelte-1rrtb82"><div class="multi-select__search-box svelte-1rrtb82"><input type="search" placeholder="Search"></div> <ul class="svelte-1rrtb82"></ul></div>'), it = /* @__PURE__ */ se('<div tabindex="1" role="button"><!></div> <!>', 1);
function at(e, n) {
  Ln(n, !0);
  let r = ce(n, "options", 19, () => []), t = ce(n, "inputCssClass", 3, "form-control"), l = ce(n, "selectedOptionCssClass", 3, "badge"), u = ce(n, "placeholder", 3, "Select an option"), i = Ae(U([])), _ = Ae(""), s = /* @__PURE__ */ pe(() => r().filter((p) => !g(i).some((d) => d == p)).filter((p) => g(_).trim() === "" || p.includes(g(_)))), f = Ae(!1);
  function a(p, d) {
    var m;
    p.preventDefault(), p.stopPropagation(), C(i, U(g(i).filter((y) => y !== d))), (m = n.oninput) == null || m.call(n, ln(g(i))), C(f, !1);
  }
  function o(p) {
    var d;
    g(i).push(p), C(f, !1), (d = n.oninput) == null || d.call(n, ln(g(i)));
  }
  function v() {
    g(s).length !== 0 && C(f, !0);
  }
  function c(p = null) {
    if (p === null) {
      C(f, !1);
      return;
    }
    g(f) === !1 || p.target.closest(".multi-select__items") !== null || p.target.closest(".form-control") !== null || C(f, !1);
  }
  Er(() => (document.addEventListener("click", c), () => document.removeEventListener("click", c)));
  var h = it(), E = rn(h);
  Z(() => De(E, `${(t() + " multi-select").trim() ?? ""} svelte-1rrtb82`)), E.__click = [Qr, v], E.__keydown = [$r];
  var S = G(E);
  un(
    S,
    () => g(i).length,
    (p) => {
      var d = Vr(), m = rn(d);
      an(m, 17, () => g(i), fn, (y, A) => {
        var T = nt();
        Z(() => De(T, `${(l() + " multi-select__selected").trim() ?? ""} svelte-1rrtb82`));
        var R = G(T), V = Ie(R);
        V.__click = [et, a, A], Z(() => Ne(R, `${g(A) ?? ""} `)), j(y, T);
      }), j(p, d);
    },
    (p) => {
      var d = rt(), m = G(d);
      Z(() => Ne(m, u())), j(p, d);
    }
  );
  var k = Ie(E, 2);
  un(k, () => g(f), (p) => {
    var d = ut(), m = G(d), y = G(m);
    Z(() => De(y, `${(t() + " multi-select__search").trim() ?? ""} svelte-1rrtb82`)), y.__keydown = [Xr];
    var A = Ie(m, 2);
    an(A, 21, () => g(s), fn, (T, R) => {
      var V = lt(), B = G(V);
      B.__click = [tt, o, R];
      var ne = G(B);
      Z(() => Ne(ne, g(R))), j(T, V);
    }), zr(y, () => g(_), (T) => C(_, T)), j(p, d);
  }), j(e, h), qn();
}
qr(["click", "keydown"]);
export {
  at as MultiSelect,
  ft as mount
};
